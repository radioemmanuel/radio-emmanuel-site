<!doctype html>
<html lang="es">
  <head>
    <meta name="referrer" content="no-referrer" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Radio Emmanuel</title>

    <meta
      name="description"
      content="Somos una radio cristiana biling√ºe dedicada a compartir la palabra de Dios."
    />
    <meta name="theme-color" content="#d4eaf7" />

    <meta property="og:title" content="Radio Emmanuel" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml" />

    <style>
      /* =========================================================
          ‚òÄÔ∏è TEMA D√çA: "CIELO DE MA√ëANA"
          ========================================================= */
      :root {
        --primary: #0a4f70;
        --primary2: #1e6b91;
        --accent: #5ecde0;
        --accent2: #2a9db3;
        --gold: #cba864;
        --gold2: #b59850;
        --bg: #eaf6fa;
        --surface: rgba(255, 255, 255, 0.65);
        --card: rgba(255, 255, 255, 0.75);
        --header-bg: rgba(235, 247, 252, 0.85);
        --text: #1a3c4d;
        --muted: rgba(26, 60, 77, 0.7);
        --stroke: rgba(255, 255, 255, 0.6);
        --stroke2: rgba(255, 255, 255, 0.4);
        --radius: 18px;
        --shadow: 0 16px 40px rgba(94, 205, 224, 0.15);
        --shadow2: 0 10px 24px rgba(10, 79, 112, 0.08);
        --bgFancy:
          radial-gradient(
            800px 800px at 0% 0%,
            rgba(255, 255, 255, 0.8),
            transparent 60%
          ),
          linear-gradient(180deg, #cce4f0 0%, #f3faff 100%);
        --status-loading: #f0dca5;
        --status-live: #5ecde0;
        --status-error: #ff6b6b;
      }

      /* TEMA NOCHE */
      [data-theme='dark'] {
        --primary: #7dd3fc;
        --primary2: #0ea5e9;
        --gold: #f0dca5;
        --gold2: #d4b873;
        --bg: #020617;
        --surface: rgba(15, 23, 42, 0.6);
        --card: rgba(30, 41, 59, 0.6);
        --header-bg: rgba(2, 6, 23, 0.85);
        --text: #f1f5f9;
        --muted: rgba(148, 163, 184, 0.65);
        --stroke: rgba(255, 255, 255, 0.12);
        --stroke2: rgba(255, 255, 255, 0.06);
        --shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
        --shadow2: 0 10px 25px rgba(0, 0, 0, 0.5);
        --bgFancy:
          radial-gradient(
            circle at 50% 0%,
            rgba(56, 189, 248, 0.15),
            transparent 70%
          ),
          linear-gradient(180deg, #0f172a 0%, #020617 100%);
        --status-loading: #d4b873;
        --status-live: #0ea5e9;
        --status-error: #ef4444;
      }

      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          Segoe UI,
          sans-serif;
        background: var(--bgFancy);
        background-attachment: fixed;
        background-size: cover;
        color: var(--text);
        transition: color 0.3s ease;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      .wrap {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 16px;
      }

      /* HEADER */
      header {
        position: sticky;
        top: 0;
        z-index: 50;
        background: var(--header-bg);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid var(--stroke2);
      }
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 0;
        gap: 14px;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 220px;
      }
      .logo {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        background:
          radial-gradient(
            18px 18px at 30% 25%,
            rgba(199, 171, 102, 0.35),
            transparent 60%
          ),
          linear-gradient(
            180deg,
            rgba(102, 191, 242, 0.22),
            rgba(15, 39, 71, 0.06)
          );
        border: 1px solid rgba(199, 171, 102, 0.35);
        display: grid;
        place-items: center;
        font-weight: 950;
        letter-spacing: 0.4px;
        color: var(--primary);
      }
      nav {
        display: flex;
        gap: 18px;
        align-items: center;
        flex-wrap: wrap;
        justify-content: center;
      }
      nav a {
        font-size: 14px;
        color: var(--text);
        opacity: 0.85;
        padding: 8px 10px;
        border-radius: 12px;
        font-weight: 500;
      }
      nav a:hover {
        background: rgba(102, 191, 242, 0.16);
        opacity: 1;
      }
      .controls {
        display: flex;
        gap: 12px;
        align-items: center;
        min-width: 120px;
        justify-content: flex-end;
      }
      .theme-toggle {
        background: transparent;
        border: 1px solid var(--stroke);
        color: var(--text);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        cursor: pointer;
      }
      .lang {
        display: flex;
        gap: 8px;
        align-items: center;
      }
      .pill {
        border: 1px solid var(--stroke);
        background: var(--surface);
        padding: 8px 10px;
        border-radius: 999px;
        font-size: 13px;
        cursor: pointer;
        color: var(--muted);
      }
      .pill.active {
        background: rgba(199, 171, 102, 0.25);
        border-color: rgba(199, 171, 102, 0.5);
        font-weight: 900;
        color: var(--text);
      }

      /* HERO & PLAYER */
      .hero {
        padding: 46px 0 24px;
      }
      .heroCard {
        border: 1px solid var(--stroke2);
        background: var(--header-bg);
        border-radius: calc(var(--radius) + 6px);
        box-shadow: var(--shadow);
        overflow: hidden;
        position: relative;
        backdrop-filter: blur(5px);
      }
      .heroCard::after {
        content: '';
        position: absolute;
        inset: auto 0 0 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(199, 171, 102, 0.8),
          rgba(102, 191, 242, 0.8),
          transparent
        );
        opacity: 0.8;
      }

      /* Grid Original del Hero */
      .heroInner {
        position: relative;
        padding: 30px;
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 22px;
        align-items: center;
      }

      /* ESTILOS DEL SLIDER */
      .hero-slider-container {
        position: relative;
        min-height: 320px;
        display: flex;
        align-items: center;
      }
      .hero-slide {
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        opacity: 0;
        visibility: hidden;
        transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        transform: translateY(-40%);
      }
      .hero-slide.active {
        opacity: 1;
        visibility: visible;
        position: relative;
        transform: translateY(0);
        top: auto;
      }
      .hero-dots {
        position: absolute;
        bottom: -20px;
        left: 0;
        display: flex;
        gap: 8px;
      }
      .h-dot {
        width: 8px;
        height: 8px;
        background-color: var(--stroke);
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s;
      }
      .h-dot.active {
        background-color: var(--gold);
        width: 24px;
        border-radius: 10px;
      }

      .kicker {
        display: flex;
        gap: 10px;
        align-items: center;
        color: var(--muted);
        font-size: 13px;
        margin-bottom: 12px;
      }
      .liveDot {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        border: 1px solid rgba(102, 191, 242, 0.45);
        background: rgba(102, 191, 242, 0.18);
        padding: 8px 12px;
        border-radius: 999px;
        color: var(--text);
        font-weight: 900;
      }
      .dot {
        width: 10px;
        height: 10px;
        border-radius: 99px;
        background: #ff4d4d;
        box-shadow: 0 0 0 6px rgba(255, 77, 77, 0.25);
      }
      h1 {
        margin: 0 0 10px;
        font-size: clamp(28px, 4vw, 44px);
        line-height: 1.05;
        color: var(--text);
      }
      .sub {
        margin: 0 0 18px;
        color: var(--muted);
        font-size: 16px;
        max-width: 72ch;
      }

      .ctaRow {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        align-items: center;
      }
      .btn {
        border: 1px solid var(--stroke);
        background: var(--surface);
        color: var(--text);
        padding: 12px 14px;
        border-radius: 14px;
        font-weight: 900;
        cursor: pointer;
        display: inline-flex;
        gap: 10px;
        align-items: center;
        box-shadow: var(--shadow2);
        transition: transform 0.1s;
      }
      .btn:hover {
        background: rgba(255, 255, 255, 0.9);
        transform: translateY(-1px);
      }
      .btn.primary {
        background: rgba(102, 191, 242, 0.2);
        border-color: rgba(102, 191, 242, 0.4);
        color: var(--text);
      }
      .btn.primary:hover {
        background: rgba(102, 191, 242, 0.3);
      }
      .btn.gold {
        background: linear-gradient(180deg, #d4b873, #b59850);
        border-color: rgba(199, 171, 102, 0.55);
        color: #fff;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }
      .btn:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }
      .mini {
        font-size: 13px;
        color: var(--muted);
      }

      .playerBox {
        border: 1px solid var(--stroke2);
        background: var(--card);
        border-radius: var(--radius);
        padding: 16px;
        box-shadow: var(--shadow2);
        backdrop-filter: blur(8px);
      }
      .playerTop {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
      }
      .badge {
        font-size: 12px;
        color: var(--text);
        padding: 7px 10px;
        border-radius: 999px;
        border: 1px solid rgba(199, 171, 102, 0.42);
        background: rgba(199, 171, 102, 0.16);
        display: inline-flex;
        gap: 8px;
        align-items: center;
        font-weight: 900;
      }
      .tag {
        font-size: 12px;
        color: var(--muted);
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--stroke2);
        background: rgba(102, 191, 242, 0.12);
        font-weight: 900;
      }
      .tag.main {
        background: linear-gradient(180deg, #d4b873, #b59850);
        border-color: rgba(199, 171, 102, 0.55);
        color: white;
        text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
      }
      .now {
        color: var(--text);
        font-weight: 900;
        margin: 6px 0 12px;
        min-height: 1.2em;
      }

      /* Barra de Progreso */
      .progress {
        height: 10px;
        border-radius: 999px;
        background: var(--stroke);
        overflow: hidden;
        position: relative;
      }
      .bar {
        height: 100%;
        width: 100%;
        border-radius: 999px;
        transition: all 0.4s ease;
        transform-origin: left;
      }
      .bar.idle {
        background: var(--muted);
        opacity: 0.1;
      }
      .bar.buffering {
        background-color: var(--status-loading);
        background-image: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.35) 25%,
          transparent 25%,
          transparent 50%,
          rgba(255, 255, 255, 0.35) 50%,
          rgba(255, 255, 255, 0.35) 75%,
          transparent 75%,
          transparent
        );
        background-size: 1rem 1rem;
        animation: stripes 1s linear infinite;
        opacity: 1;
      }
      .bar.live {
        background: linear-gradient(
          90deg,
          var(--primary),
          var(--accent),
          var(--gold),
          var(--primary)
        );
        background-size: 300% 300%;
        animation: fluidLive 4s ease infinite;
        opacity: 1;
        box-shadow: 0 0 15px rgba(94, 205, 224, 0.4);
      }
      .bar.error {
        background: var(--status-error);
        opacity: 0.8;
      }
      @keyframes stripes {
        from {
          background-position: 1rem 0;
        }
        to {
          background-position: 0 0;
        }
      }
      @keyframes fluidLive {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .playerBtns {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 8px;
        margin-top: 12px;
      }
      .playerBtns .btn {
        width: 100%;
        justify-content: center;
        padding: 12px 4px;
        font-size: 13px;
        white-space: nowrap;
      }

      .audioWrap {
        margin-top: 10px;
        border: 1px solid var(--stroke2);
        background: var(--surface);
        border-radius: 16px;
        padding: 10px;
      }
      audio {
        width: 100%;
        height: 0;
      }
      .volRow {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
      }
      .volRow input[type='range'] {
        width: 100%;
        padding: 0;
      }

      /* SECTIONS */
      section {
        padding: 18px 0;
      }
      .grid2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      .card {
        border: 1px solid var(--stroke2);
        background: var(--card);
        border-radius: var(--radius);
        padding: 16px;
        box-shadow: var(--shadow2);
        backdrop-filter: blur(8px);
      }
      .sectionTitle {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        gap: 12px;
        margin: 0 0 10px;
      }
      .sectionTitle h2 {
        margin: 0;
        font-size: 18px;
        letter-spacing: 0.2px;
        color: var(--text);
      }
      .hint {
        margin: 0;
        color: var(--muted);
        font-size: 13px;
      }

      .list {
        display: grid;
        gap: 12px;
      }
      .item {
        border: 1px solid var(--stroke2);
        background: var(--surface);
        border-radius: 16px;
        padding: 12px 12px;
        display: flex;
        justify-content: space-between;
        gap: 12px;
        align-items: flex-start;
      }
      .item strong {
        display: block;
        color: var(--text);
      }
      .meta {
        color: var(--muted);
        font-size: 13px;
        margin-top: 4px;
      }

      /* FORMS */
      label {
        display: block;
        font-size: 13px;
        color: var(--muted);
        margin: 10px 0 6px;
        font-weight: 900;
      }
      input,
      textarea,
      select {
        width: 100%;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.05);
        color: var(--text);
        outline: none;
      }
      input:focus,
      textarea:focus,
      select:focus {
        background: var(--surface);
        box-shadow: 0 0 0 4px rgba(102, 191, 242, 0.25);
        border-color: rgba(102, 191, 242, 0.55);
      }
      textarea {
        min-height: 110px;
        resize: vertical;
      }
      .row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      /* FOOTER */
      footer {
        padding: 26px 0 36px;
        color: var(--muted);
        border-top: 1px solid var(--stroke2);
        margin-top: 24px;
      }
      .foot {
        display: flex;
        justify-content: space-between;
        gap: 14px;
        flex-wrap: wrap;
        font-size: 13px;
      }

      /* RESPONSIVE */
      @media (max-width: 900px) {
        .heroInner {
          grid-template-columns: 1fr;
        }
        .hero-slider-container {
          min-height: auto;
          margin-bottom: 20px;
        }
        nav {
          display: none;
        }
        .grid2 {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <div class="wrap topbar">
        <div class="brand">
          <div class="logo">RE</div>
          <div>
            <div style="font-weight: 950; letter-spacing: 0.3px">
              Radio Emmanuel
            </div>
            <div class="mini" data-i18n="header.subtitle">
              Radio cristiana biling√ºe ‚Ä¢ Edinburg, TX
            </div>
          </div>
        </div>
        <nav>
          <a href="#live" data-i18n="nav.live">En vivo</a>
          <a href="#shows" data-i18n="nav.shows">Programas</a>
          <a href="#location" data-i18n="nav.location">Ubicaci√≥n</a>
          <a href="#prayer" data-i18n="nav.prayer">Peticiones</a>
          <a href="#connect" data-i18n="nav.connect">Conecta</a>
        </nav>
        <div class="controls">
          <button class="theme-toggle" id="themeBtn">‚òÄÔ∏è</button>
          <div class="lang">
            <div class="pill" id="btnES">ES</div>
            <div class="pill active" id="btnEN">EN</div>
          </div>
        </div>
      </div>
    </header>

    <main class="wrap">
      <div class="hero">
        <div class="heroCard">
          <div class="heroInner">
            <div class="hero-slider-container">
              <div class="hero-slide active">
                <div class="kicker">
                  <span class="liveDot"
                    ><span class="dot"></span
                    ><span data-i18n="hero.liveBadge">EN VIVO</span></span
                  >
                  <span class="mini" data-i18n="hero.kicker"
                    >Tira la red con fe</span
                  >
                </div>
                <h1 data-i18n="hero.title">
                  Palabra y adoraci√≥n, todos los d√≠as.
                </h1>
                <p class="sub" data-i18n="hero.subtitle">
                  Somos una radio cristiana biling√ºe dedicada a compartir la
                  palabra de Dios y mensajes de fe.
                </p>
                <div class="ctaRow">
                  <button
                    class="btn gold"
                    onclick="
                      document
                        .getElementById('live')
                        .scrollIntoView({ behavior: 'smooth' })
                    "
                  >
                    üéß <span data-i18n="hero.ctaLive">Escuchar en vivo</span>
                  </button>
                  <button
                    class="btn primary"
                    onclick="
                      document
                        .getElementById('location')
                        .scrollIntoView({ behavior: 'smooth' })
                    "
                  >
                    üìç <span data-i18n="hero.ctaLocation">Ver Ubicaci√≥n</span>
                  </button>
                </div>
              </div>

              <div class="hero-slide">
                <div class="kicker">
                  <span class="tag main" data-i18n="hero.s2.tag"
                    >DOMINGOS 10AM</span
                  >
                  <span class="mini" data-i18n="hero.s2.mini"
                    >Ven con tu familia</span
                  >
                </div>
                <h1 data-i18n="hero.s2.title">Una casa de puertas abiertas.</h1>
                <p class="sub" data-i18n="hero.s2.sub">
                  Te invitamos a nuestros servicios presenciales en el Templo
                  Emmanuel. Un tiempo de milagros y renovaci√≥n.
                </p>
                <div class="ctaRow">
                  <button
                    class="btn primary"
                    onclick="
                      document
                        .getElementById('location')
                        .scrollIntoView({ behavior: 'smooth' })
                    "
                  >
                    üó∫Ô∏è <span data-i18n="hero.s2.btn">Ver c√≥mo llegar</span>
                  </button>
                </div>
              </div>

              <div class="hero-slide">
                <div class="kicker">
                  <span class="tag" data-i18n="hero.s3.tag">NUEVO</span>
                  <span class="mini" data-i18n="hero.s3.mini"
                    >Ll√©vanos contigo</span
                  >
                </div>
                <h1 data-i18n="hero.s3.title">La radio que edifica tu vida.</h1>
                <p class="sub" data-i18n="hero.s3.sub">
                  S√≠guenos en nuestras redes sociales o env√≠anos un mensaje de
                  WhatsApp para pedir tu alabanza favorita.
                </p>
                <div class="ctaRow">
                  <button
                    class="btn gold"
                    onclick="
                      document
                        .getElementById('connect')
                        .scrollIntoView({ behavior: 'smooth' })
                    "
                  >
                    üí¨ <span data-i18n="hero.s3.btn">Enviar WhatsApp</span>
                  </button>
                </div>
              </div>

              <div class="hero-dots">
                <span class="h-dot active" onclick="goToSlide(0)"></span>
                <span class="h-dot" onclick="goToSlide(1)"></span>
                <span class="h-dot" onclick="goToSlide(2)"></span>
              </div>
            </div>

            <div class="playerBox" id="live">
              <div class="playerTop">
                <span class="badge"
                  ><span class="dot"></span
                  ><span data-i18n="player.status">EN VIVO</span></span
                >
                <span class="tag" data-i18n="player.quality"
                  >Compatible m√≥vil</span
                >
              </div>
              <div class="now" id="nowText" data-i18n="player.now">
                Listo para reproducir
              </div>
              <div class="progress">
                <div class="bar idle" id="statusBar"></div>
              </div>
              <div class="audioWrap">
                <audio
                  id="radioAudio"
                  preload="none"
                  referrerpolicy="no-referrer"
                ></audio>
                <div class="volRow">
                  <span style="font-weight: 900; font-size: 12px">üîä</span>
                  <input
                    id="vol"
                    type="range"
                    min="0"
                    max="1"
                    step="0.05"
                    value="1"
                  />
                </div>
              </div>
              <div class="playerBtns">
                <button class="btn" type="button" id="btnPlay">
                  ‚ñ∂Ô∏è <span data-i18n="player.play">Reproducir</span>
                </button>
                <button
                  class="btn"
                  type="button"
                  id="btnPause"
                  style="display: none"
                >
                  ‚è∏Ô∏è <span data-i18n="player.pause">Pausar</span>
                </button>
                <button class="btn" type="button" id="btnMute">
                  üîä <span data-i18n="player.volume">Volumen</span>
                </button>
              </div>
              <div id="popupContainer" style="display: none; margin-top: 10px">
                <button
                  class="btn"
                  style="
                    width: 100%;
                    background: #ff4d4d;
                    color: white;
                    justify-content: center;
                    border-color: #ff3333;
                  "
                  onclick="window.openPopupPlayer()"
                >
                  ‚ö†Ô∏è
                  <span data-i18n="player.popup">Abrir Reproductor Seguro</span>
                </button>
              </div>
              <p
                class="mini"
                style="margin-top: 12px"
                data-i18n="player.helper"
              >
                Conectado al servidor propio (HTTPS).
              </p>
            </div>
          </div>
        </div>
      </div>

      <section id="shows">
        <div class="sectionTitle">
          <h2 data-i18n="shows.title">Programas</h2>
          <p class="hint" data-i18n="shows.hint">Horario y responsables</p>
        </div>
        <div class="grid2">
          <div class="card">
            <div class="list">
              <div class="item">
                <div>
                  <strong data-i18n="shows.s0.name">Dios con nosotros</strong>
                  <div class="meta" data-i18n="shows.s0.meta">
                    Domingo ‚Ä¢ 10:00 AM ‚Ä¢ Pastor Daniel Ortiz
                  </div>
                </div>
                <span class="tag main" data-i18n="shows.tagMain"
                  >PRINCIPAL</span
                >
              </div>
              <div class="item">
                <div>
                  <strong data-i18n="shows.s1.name">Palabra Viva</strong>
                  <div class="meta" data-i18n="shows.s1.meta">
                    Lunes ‚Ä¢ 7:00 PM ‚Ä¢ Pastor Daniel Ortiz
                  </div>
                </div>
                <span class="tag" data-i18n="shows.tagLive">EN VIVO</span>
              </div>
              <div class="item">
                <div>
                  <strong data-i18n="shows.s2.name">Noche de Adoraci√≥n</strong>
                  <div class="meta" data-i18n="shows.s2.meta">
                    Mi√©rcoles ‚Ä¢ 8:00 PM ‚Ä¢ Equipo Radio Emmanuel
                  </div>
                </div>
                <span class="tag" data-i18n="shows.tagMusic">Adoraci√≥n</span>
              </div>
              <div class="item">
                <div>
                  <strong data-i18n="shows.s3.name">Fe y Familia</strong>
                  <div class="meta" data-i18n="shows.s3.meta">
                    Viernes ‚Ä¢ 6:00 PM ‚Ä¢ Invitados especiales
                  </div>
                </div>
                <span class="tag" data-i18n="shows.tagTalk">Charlas</span>
              </div>
            </div>
          </div>

          <div class="card" id="location">
            <div class="sectionTitle">
              <h2 data-i18n="loc.title">Horarios y Ubicaci√≥n</h2>
              <p
                style="
                  color: var(--gold);
                  font-weight: 900;
                  font-size: 15px;
                  margin: 0;
                  opacity: 1;
                "
              >
                üìç <span data-i18n="loc.temple">Templo Emmanuel</span>
              </p>
            </div>
            <div class="list">
              <div class="item">
                <div>
                  <strong data-i18n="loc.sunday">Domingo</strong>
                  <div class="meta">10:00 a.m.</div>
                </div>
                <span class="tag main" data-i18n="loc.worship">Culto</span>
              </div>
              <div class="item">
                <div>
                  <strong data-i18n="loc.wednesday">Mi√©rcoles</strong>
                  <div class="meta">07:00 p.m.</div>
                </div>
                <span class="tag" data-i18n="loc.prayer">Oraci√≥n</span>
              </div>

              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 12px;
                  margin-top: 4px;
                "
              >
                <div
                  style="
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    font-size: 13px;
                    color: var(--muted);
                  "
                >
                  <div
                    style="
                      margin-bottom: 4px;
                      font-weight: 900;
                      color: var(--text);
                    "
                    data-i18n="loc.addressLabel"
                  >
                    Direcci√≥n:
                  </div>
                  <div style="line-height: 1.4">
                    712 Kenyond Rd,<br />Edinburg, Texas.
                  </div>
                  <a
                    href="https://www.google.com/maps/search/?api=1&query=712+Kenyond+Rd,+Edinburg,+Texas"
                    target="_blank"
                    style="
                      margin-top: 8px;
                      color: var(--primary2);
                      font-weight: bold;
                      font-size: 12px;
                      display: flex;
                      align-items: center;
                      gap: 4px;
                    "
                  >
                    <span data-i18n="loc.mapBtn">Ver en Mapa</span> ‚Üó
                  </a>
                </div>
                <div
                  style="
                    border-radius: 12px;
                    overflow: hidden;
                    border: 1px solid var(--stroke2);
                  "
                >
                  <iframe
                    src="https://www.google.com/maps?q=712+Kenyond+Rd,+Edinburg,+Texas&output=embed"
                    width="100%"
                    height="100%"
                    style="border: 0; min-height: 100px; opacity: 0.8"
                    allowfullscreen=""
                    loading="lazy"
                  >
                  </iframe>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="grid2" id="prayer">
        <div class="card">
          <div class="sectionTitle">
            <h2 data-i18n="prayer.title">Peticiones de oraci√≥n</h2>
            <p class="hint" data-i18n="prayer.hint">Estamos orando por ti</p>
          </div>
          <form id="prayerForm">
            <div class="row">
              <div>
                <label data-i18n="prayer.nameLabel">Nombre</label>
                <input
                  type="text"
                  name="name"
                  id="nameInput"
                  placeholder="Nombre"
                  required
                  data-i18n-placeholder="prayer.namePlaceholder"
                />
              </div>
              <div>
                <label data-i18n="prayer.langLabel">Idioma</label>
                <select name="language">
                  <option value="es">ES</option>
                  <option value="en" selected>EN</option>
                </select>
              </div>
            </div>
            <label data-i18n="prayer.msgLabel">Tu petici√≥n</label>
            <textarea
              name="message"
              placeholder="Escribe tu petici√≥n de oraci√≥n..."
              required
              data-i18n-placeholder="prayer.msgPlaceholder"
            ></textarea>

            <p
              id="formStatus"
              class="mini"
              style="
                display: none;
                margin-top: 10px;
                color: var(--primary2);
                font-weight: bold;
              "
            ></p>

            <div style="margin-top: 12px">
              <button class="btn gold" type="submit" id="btnSendPrayer">
                üôè <span data-i18n="prayer.send">Enviar</span>
              </button>
              <span
                class="mini"
                style="margin-left: 10px"
                data-i18n="prayer.note"
                >Privado y respetuoso.</span
              >
            </div>
          </form>
        </div>

        <div class="card" id="connect">
          <div class="sectionTitle">
            <h2 data-i18n="connect.title">Conecta</h2>
            <p class="hint" data-i18n="connect.hint">Edinburg, Texas</p>
          </div>
          <div class="list">
            <div class="item">
              <div>
                <strong data-i18n="connect.whats">WhatsApp</strong>
                <div class="meta" data-i18n="connect.whatsMeta">
                  Agregar n√∫mero despu√©s
                </div>
              </div>
              <span class="tag">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="18"
                  height="18"
                  fill="currentColor"
                >
                  <path
                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"
                  />
                </svg>
              </span>
            </div>

            <div class="item">
              <div>
                <strong data-i18n="connect.email">Correo</strong>
                <div class="meta">temploemmanuel712@gmail.com</div>
              </div>
              <span class="tag">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="18"
                  height="18"
                  fill="currentColor"
                >
                  <path
                    d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"
                  />
                  <path
                    d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"
                  />
                </svg>
              </span>
            </div>

            <div class="item">
              <div>
                <strong data-i18n="connect.social">Redes</strong>
                <div class="meta" data-i18n="connect.socialMeta">
                  Links de Facebook / Instagram despu√©s
                </div>
              </div>
              <span class="tag">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  width="18"
                  height="18"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M15.75 4.5a3 3 0 11.825 2.066l-8.421 4.679a3.002 3.002 0 010 1.51l8.421 4.679a3 3 0 11-.729 1.31l-8.421-4.678a3 3 0 110-4.132l8.421-4.679a3 3 0 01-.096-.755z"
                    clip-rule="evenodd"
                  />
                </svg>
              </span>
            </div>
          </div>
          <p class="mini" style="margin-top: 12px" data-i18n="connect.helper">
            Podemos agregar un bot√≥n de ‚ÄúCompartir‚Äù para enviar el link del En
            Vivo por WhatsApp al instante.
          </p>
          <div style="margin-top: 12px">
            <button class="btn primary" type="button" onclick="shareLive()">
              üîó <span data-i18n="connect.share">Compartir En Vivo</span>
            </button>
          </div>
        </div>
      </section>

      <footer>
        <div class="wrap foot">
          <div>¬© <span id="year"></span> <strong>Radio Emmanuel</strong></div>
          <div data-i18n="footer.note">
            Marca independiente ‚Ä¢ Dise√±o propio ‚Ä¢ Contenido biling√ºe
          </div>
        </div>
      </footer>
    </main>

    <script>
      /* ========================================================
          CONFIGURACIONES PRINCIPALES (YA ACTUALIZADAS)
         ======================================================== */
      // 1. TU LINK DE FORMSPREE
      const FORMSPREE_ENDPOINT = 'https://formspree.io/f/maqjaqbg';

      // 2. TU ENLACE R√ÅPIDO DE CLOUDFLARE (Copiado de tu terminal)
      const RADIO_HOST = 'sept-pottery-capabilities-applying.trycloudflare.com';
      const MOUNT_POINT = '/stream';

      // Construimos las URLs autom√°ticamente
      const STREAM_URLS = [
        `https://${RADIO_HOST}${MOUNT_POINT}`,
        `https://${RADIO_HOST}${MOUNT_POINT}.mp3`,
      ];

      // URL para obtener datos (T√≠tulo, Oyentes) del Icecast JSON
      const STATS_URL = `https://${RADIO_HOST}/status-json.xsl`;

      /* ========================================================
          SCRIPT DE IDIOMA Y TEMA
         ======================================================== */
      const themeBtn = document.getElementById('themeBtn');
      const htmlEl = document.documentElement;
      const savedTheme = localStorage.getItem('theme');

      if (
        savedTheme === 'dark' ||
        (!savedTheme &&
          window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        htmlEl.setAttribute('data-theme', 'dark');
        themeBtn.textContent = 'üåô';
      } else {
        htmlEl.setAttribute('data-theme', 'light');
        themeBtn.textContent = '‚òÄÔ∏è';
      }

      themeBtn.addEventListener('click', () => {
        const current = htmlEl.getAttribute('data-theme');
        const newTheme = current === 'dark' ? 'light' : 'dark';
        htmlEl.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        themeBtn.textContent = newTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
      });

      // DICCIONARIO
      const i18n = {
        en: {
          'header.subtitle': 'Bilingual Christian Radio ‚Ä¢ Edinburg, TX',
          'nav.live': 'Live',
          'nav.shows': 'Shows',
          'nav.location': 'Location',
          'nav.prayer': 'Prayer Requests',
          'nav.connect': 'Connect',
          'hero.liveBadge': 'LIVE',
          'hero.kicker': 'Cast the net in faith',
          'hero.title': 'Word and worship, every day.',
          'hero.subtitle':
            'We are a bilingual Christian radio dedicated to sharing the Word of God and messages of faith.',
          'hero.ctaLive': 'Listen Live',
          'hero.ctaLocation': 'See Location',
          'hero.s2.tag': 'SUNDAYS 10AM',
          'hero.s2.mini': 'Bring your family',
          'hero.s2.title': 'A house of open doors.',
          'hero.s2.sub':
            'We invite you to our in-person services at Emmanuel Temple. A time of miracles and renewal.',
          'hero.s2.btn': 'Get Directions',
          'hero.s3.tag': 'NEW',
          'hero.s3.mini': 'Take us with you',
          'hero.s3.title': 'The radio that builds your life.',
          'hero.s3.sub':
            'Follow us on social media or send us a WhatsApp message to request your favorite song.',
          'hero.s3.btn': 'Send WhatsApp',
          'player.status': 'LIVE',
          'player.quality': 'Mobile Friendly',
          'player.now': 'Ready to play',
          'player.play': 'Play',
          'player.pause': 'Pause',
          'player.volume': 'Volume',
          'player.popup': 'Open Secure Player',
          'player.helper': 'Connected to Server (HTTPS).',
          'shows.title': 'Shows',
          'shows.hint': 'Schedule and hosts (placeholder data)',
          'shows.s0.name': 'God with Us',
          'shows.s0.meta': 'Sunday ‚Ä¢ 10:00 AM ‚Ä¢ Pastor Daniel Ortiz',
          'shows.tagMain': 'MAIN',
          'shows.s1.name': 'Living Word',
          'shows.s1.meta': 'Monday ‚Ä¢ 7:00 PM ‚Ä¢ Pastor Daniel Ortiz',
          'shows.s2.name': 'Worship Night',
          'shows.s2.meta': 'Wednesday ‚Ä¢ 8:00 PM ‚Ä¢ Radio Emmanuel Team',
          'shows.s3.name': 'Faith & Family',
          'shows.s3.meta': 'Friday ‚Ä¢ 6:00 PM ‚Ä¢ Special Guests',
          'shows.tagLive': 'LIVE',
          'shows.tagMusic': 'Worship',
          'shows.tagTalk': 'Talk',
          'loc.title': 'Schedule & Location',
          'loc.temple': 'Emmanuel Temple',
          'loc.sunday': 'Sunday',
          'loc.worship': 'Worship',
          'loc.wednesday': 'Wednesday',
          'loc.prayer': 'Prayer',
          'loc.addressLabel': 'Address:',
          'loc.mapBtn': 'Open Map',
          'prayer.title': 'Prayer Requests',
          'prayer.hint': 'We are praying for you',
          'prayer.nameLabel': 'Name',
          'prayer.langLabel': 'Language',
          'prayer.msgLabel': 'Your request',
          'prayer.send': 'Send',
          'prayer.note': 'Private and respectful.',
          'prayer.namePlaceholder': 'Name',
          'prayer.msgPlaceholder': 'Type your prayer request...',
          'connect.title': 'Connect',
          'connect.hint': 'Edinburg, Texas',
          'connect.whats': 'WhatsApp',
          'connect.whatsMeta': 'Add number later',
          'connect.email': 'Email',
          'connect.social': 'Social',
          'connect.socialMeta': 'Facebook / Instagram links later',
          'connect.helper':
            'We can add a ‚ÄúShare‚Äù button so people can send the Live link on WhatsApp instantly.',
          'connect.share': 'Share Live Link',
          'footer.note':
            'Independent brand ‚Ä¢ Unique design ‚Ä¢ Bilingual content',
        },
        es: {
          'header.subtitle': 'Radio cristiana biling√ºe ‚Ä¢ Edinburg, TX',
          'nav.live': 'En vivo',
          'nav.shows': 'Programas',
          'nav.location': 'Ubicaci√≥n',
          'nav.prayer': 'Peticiones',
          'nav.connect': 'Conecta',
          'hero.liveBadge': 'EN VIVO',
          'hero.kicker': 'Tira la red con fe',
          'hero.title': 'Palabra y adoraci√≥n, todos los d√≠as.',
          'hero.subtitle':
            'Somos una radio cristiana biling√ºe dedicada a compartir la palabra de Dios y mensajes de fe.',
          'hero.ctaLive': 'Escuchar en vivo',
          'hero.ctaLocation': 'Ver Ubicaci√≥n',
          'hero.s2.tag': 'DOMINGOS 10AM',
          'hero.s2.mini': 'Ven con tu familia',
          'hero.s2.title': 'Una casa de puertas abiertas.',
          'hero.s2.sub':
            'Te invitamos a nuestros servicios presenciales en el Templo Emmanuel. Un tiempo de milagros y renovaci√≥n.',
          'hero.s2.btn': 'Ver c√≥mo llegar',
          'hero.s3.tag': 'NUEVO',
          'hero.s3.mini': 'Ll√©vanos contigo',
          'hero.s3.title': 'La radio que edifica tu vida.',
          'hero.s3.sub':
            'S√≠guenos en nuestras redes sociales o env√≠anos un mensaje de WhatsApp para pedir tu alabanza favorita.',
          'hero.s3.btn': 'Enviar WhatsApp',
          'player.status': 'EN VIVO',
          'player.quality': 'Compatible m√≥vil',
          'player.now': 'Listo para reproducir',
          'player.play': 'Reproducir',
          'player.pause': 'Pausar',
          'player.volume': 'Volumen',
          'player.popup': 'Abrir Reproductor Seguro',
          'player.helper': 'Conectado al servidor propio (HTTPS).',
          'shows.title': 'Programas',
          'shows.hint': 'Horario y responsables (datos de ejemplo)',
          'shows.s0.name': 'Dios con nosotros',
          'shows.s0.meta': 'Domingo ‚Ä¢ 10:00 AM ‚Ä¢ Pastor Daniel Ortiz',
          'shows.tagMain': 'PRINCIPAL',
          'shows.s1.name': 'Palabra Viva',
          'shows.s1.meta': 'Lunes ‚Ä¢ 7:00 PM ‚Ä¢ Pastor Daniel Ortiz',
          'shows.s2.name': 'Noche de Adoraci√≥n',
          'shows.s2.meta': 'Mi√©rcoles ‚Ä¢ 8:00 PM ‚Ä¢ Equipo Radio Emmanuel',
          'shows.s3.name': 'Fe y Familia',
          'shows.s3.meta': 'Viernes ‚Ä¢ 6:00 PM ‚Ä¢ Invitados especiales',
          'shows.tagLive': 'EN VIVO',
          'shows.tagMusic': 'Adoraci√≥n',
          'shows.tagTalk': 'Charlas',
          'loc.title': 'Horarios y Ubicaci√≥n',
          'loc.temple': 'Templo Emmanuel',
          'loc.sunday': 'Domingo',
          'loc.worship': 'Culto',
          'loc.wednesday': 'Mi√©rcoles',
          'loc.prayer': 'Oraci√≥n',
          'loc.addressLabel': 'Direcci√≥n:',
          'loc.mapBtn': 'Ver en Mapa',
          'prayer.title': 'Peticiones de oraci√≥n',
          'prayer.hint': 'Estamos orando por ti',
          'prayer.nameLabel': 'Nombre',
          'prayer.langLabel': 'Idioma',
          'prayer.msgLabel': 'Tu petici√≥n',
          'prayer.send': 'Enviar',
          'prayer.note': 'Privado y respetuoso.',
          'prayer.namePlaceholder': 'Nombre',
          'prayer.msgPlaceholder': 'Escribe tu petici√≥n de oraci√≥n...',
          'connect.title': 'Conecta',
          'connect.hint': 'Edinburg, Texas',
          'connect.whats': 'WhatsApp',
          'connect.whatsMeta': 'Agregar n√∫mero despu√©s',
          'connect.email': 'Correo',
          'connect.social': 'Redes',
          'connect.socialMeta': 'Links de Facebook / Instagram despu√©s',
          'connect.helper':
            'Podemos agregar un bot√≥n de ‚ÄúCompartir‚Äù para enviar el link del En Vivo por WhatsApp al instante.',
          'connect.share': 'Compartir En Vivo',
          'footer.note':
            'Marca independiente ‚Ä¢ Dise√±o propio ‚Ä¢ Contenido biling√ºe',
        },
      };

      const i18nState = { lang: 'es' };
      function applyI18n(lang) {
        i18nState.lang = lang;
        document.querySelectorAll('[data-i18n]').forEach((el) => {
          const key = el.getAttribute('data-i18n');
          if (i18n[lang][key]) el.textContent = i18n[lang][key];
        });
        document.querySelectorAll('[data-i18n-placeholder]').forEach((el) => {
          const key = el.getAttribute('data-i18n-placeholder');
          if (i18n[lang][key]) el.placeholder = i18n[lang][key];
        });
        document
          .getElementById('btnES')
          .classList.toggle('active', lang === 'es');
        document
          .getElementById('btnEN')
          .classList.toggle('active', lang === 'en');
        updateMuteIcon();
      }
      document
        .getElementById('btnES')
        .addEventListener('click', () => applyI18n('es'));
      document
        .getElementById('btnEN')
        .addEventListener('click', () => applyI18n('en'));
      document.getElementById('year').textContent = new Date().getFullYear();

      /* ========================================================
          SCRIPT DE AUDIO + METADATOS (ICECAST)
         ======================================================== */
      const audio = document.getElementById('radioAudio');
      const nowText = document.getElementById('nowText');
      const statusBar = document.getElementById('statusBar');
      const btnPlay = document.getElementById('btnPlay');
      const btnPause = document.getElementById('btnPause');
      const btnMute = document.getElementById('btnMute');
      const vol = document.getElementById('vol');
      const popupContainer = document.getElementById('popupContainer');

      let updateInterval;

      audio.volume = 1;

      audio.addEventListener('loadstart', () => setStatus('buffering'));
      audio.addEventListener('playing', () => {
        setStatus('playing');
        popupContainer.style.display = 'none';
        startMetadataUpdater();
      });
      audio.addEventListener('pause', () => {
        setStatus('paused');
        stopMetadataUpdater();
      });
      audio.addEventListener('error', () => {
        setStatus('error');
        popupContainer.style.display = 'block';
      });

      function setStatus(state) {
        statusBar.className = 'bar'; // Reset clases
        const isES = i18nState.lang === 'es';

        if (state === 'buffering') {
          statusBar.classList.add('buffering');
          nowText.innerHTML = isES ? 'üì° Conectando...' : 'üì° Connecting...';
          toggleButtons(false);
        } else if (state === 'playing') {
          statusBar.classList.add('live');
          toggleButtons(true);
        } else if (state === 'error') {
          statusBar.classList.add('error');
          nowText.textContent = isES ? '‚ö†Ô∏è Error conexi√≥n' : '‚ö†Ô∏è Server error';
          toggleButtons(false);
        } else {
          statusBar.classList.add('idle');
          nowText.textContent = isES ? 'Listo para escuchar' : 'Ready to play';
          toggleButtons(false);
        }
      }

      function toggleButtons(isPlaying) {
        if (isPlaying) {
          btnPlay.style.display = 'none';
          btnPause.style.display = 'inline-flex';
        } else {
          btnPlay.style.display = 'inline-flex';
          btnPause.style.display = 'none';
        }
      }

      // Volumen
      vol.addEventListener('input', () => {
        audio.volume = Number(vol.value);
        if (audio.volume > 0) audio.muted = false;
        updateMuteIcon();
      });
      btnMute.addEventListener('click', () => {
        audio.muted = !audio.muted;
        updateMuteIcon();
      });
      function updateMuteIcon() {
        const isMuted = audio.muted || audio.volume === 0;
        const label = i18n[i18nState.lang]['player.volume'];
        btnMute.innerHTML =
          (isMuted ? 'üîá ' : 'üîä ') + `<span class="mini">${label}</span>`;
      }

      // Play / Pause
      btnPlay.addEventListener('click', async () => {
        popupContainer.style.display = 'none';
        setStatus('buffering');
        audio.src = STREAM_URLS[0]; // Intenta HTTPS primero
        try {
          await audio.play();
        } catch (e) {
          console.warn('Fallo HTTPS directo, revisando...', e);
        }
      });
      btnPause.addEventListener('click', () => {
        audio.pause();
        audio.src = '';
        setStatus('idle');
      });

      // Dashboard Metadatos
      function startMetadataUpdater() {
        fetchMetadata();
        updateInterval = setInterval(fetchMetadata, 10000);
      }
      function stopMetadataUpdater() {
        clearInterval(updateInterval);
      }

      async function fetchMetadata() {
        try {
          const res = await fetch(STATS_URL + '?t=' + new Date().getTime());
          const data = await res.json();
          let source = data.icestats.source;
          if (Array.isArray(source)) {
            source =
              source.find((s) => s.listenurl.endsWith(MOUNT_POINT)) ||
              source[0];
          }

          if (source) {
            const songTitle =
              source.title || source.server_name || 'Radio Emmanuel';
            const listeners = source.listeners || 0;
            const isES = i18nState.lang === 'es';
            const listenersLabel = isES ? 'Oyentes' : 'Listeners';

            nowText.innerHTML = `
              <div style="display:flex; flex-direction:column; gap:2px;">
                <span style="font-size:1.1em; color:var(--text);">${songTitle}</span>
                <span style="font-size:0.8em; opacity:0.7; font-weight:normal;">
                  üéß ${listenersLabel}: <strong>${listeners}</strong>
                </span>
              </div>
            `;
            document.title = `‚ñ∂ ${songTitle} | Radio Emmanuel`;
          }
        } catch (e) {
          console.log('Dashboard error', e);
        }
      }

      window.openPopupPlayer = function () {
        // Usa la URL HTTP vieja o la que gustes para el popup
        window.open(
          'http://radioemmanueledinburg.radiostream321.com/',
          'RadioPlayer',
          'width=400,height=600',
        );
      };

      async function shareLive() {
        const url = window.location.href.split('#')[0];
        try {
          await navigator.share({ title: 'Radio Emmanuel', url });
        } catch (e) {}
      }

      /* ========================================================
          FORMULARIO DE PETICIONES (AJAX + ASUNTO PERSONALIZADO)
         ======================================================== */
      const prayerForm = document.getElementById('prayerForm');

      prayerForm.addEventListener('submit', async function (event) {
        event.preventDefault(); // Evita recarga

        const statusText = document.getElementById('formStatus');
        const btn = document.getElementById('btnSendPrayer');
        const originalBtnText = btn.innerHTML;
        const nameInput = document.getElementById('nameInput');

        // 1. Preparar datos
        const formData = new FormData(prayerForm);

        // --- TRUCO: PERSONALIZAR EL ASUNTO DEL CORREO ---
        // Agregamos un campo oculto "_subject" din√°micamente con el nombre
        formData.append(
          '_subject',
          `Petici√≥n de oraci√≥n de: ${nameInput.value}`,
        );
        // ------------------------------------------------

        // 2. Estado visual "Enviando"
        btn.disabled = true;
        btn.innerHTML = 'Enviando...';
        statusText.style.display = 'none';

        try {
          // USAMOS LA URL QUE DEFINISTE AL INICIO DEL SCRIPT
          const response = await fetch(FORMSPREE_ENDPOINT, {
            method: 'POST',
            body: formData,
            headers: { Accept: 'application/json' },
          });

          if (response.ok) {
            statusText.style.color = 'var(--primary2)';
            statusText.innerText =
              i18nState.lang === 'es'
                ? '¬°Gracias! Hemos recibido tu petici√≥n.'
                : 'Thank you! We received your prayer request.';
            statusText.style.display = 'block';
            prayerForm.reset();
          } else {
            throw new Error('Error env√≠o');
          }
        } catch (error) {
          statusText.style.color = 'var(--status-error)';
          statusText.innerText =
            i18nState.lang === 'es'
              ? 'Hubo un error. Intenta de nuevo.'
              : 'There was a problem submitting.';
          statusText.style.display = 'block';
        } finally {
          btn.disabled = false;
          btn.innerHTML = originalBtnText;
          setTimeout(() => {
            statusText.style.display = 'none';
          }, 6000);
        }
      });

      /* ========================================================
          SLIDER HERO
         ======================================================== */
      let currentSlide = 0;
      const slides = document.querySelectorAll('.hero-slide');
      const dots = document.querySelectorAll('.h-dot');
      const totalSlides = slides.length;
      let slideInterval;

      function goToSlide(n) {
        slides.forEach((s) => s.classList.remove('active'));
        dots.forEach((d) => d.classList.remove('active'));
        currentSlide = (n + totalSlides) % totalSlides;
        slides[currentSlide].classList.add('active');
        dots[currentSlide].classList.add('active');
      }
      function nextSlide() {
        goToSlide(currentSlide + 1);
      }
      function startSlider() {
        slideInterval = setInterval(nextSlide, 5000);
      }
      function stopSlider() {
        clearInterval(slideInterval);
      }

      if (totalSlides > 0) startSlider();
      const sliderContainer = document.querySelector('.hero-slider-container');
      if (sliderContainer) {
        sliderContainer.addEventListener('mouseenter', stopSlider);
        sliderContainer.addEventListener('mouseleave', startSlider);
      }

      updateMuteIcon();
    </script>
  </body>
</html>
